# SaveDroid: An Evasion Aware Android Malware Detection System
SaveDroid is a robust and efficient Android malware detection system designed to resist various adversarial evasion techniques. By leveraging the inherent resilience of the K-Nearest Neighbours (KNN) algorithm and optimizing it with Nature-Inspired Optimization Algorithms (NIOAs), SaveDroid offers a highly effective solution for identifying malware in the Android ecosystem.

# Overview
With the widespread use of Android devices, malware attacks have become increasingly sophisticated, often using evasion techniques to bypass traditional detection methods. SaveDroid addresses these challenges by employing a KNN-based approach that utilizes both static and dynamic features of Android applications. The model is trained to distinguish between benign and malicious apps even in the presence of adversarial modifications.

# Key Features
•	Evasion Awareness: Unlike traditional ML models, SaveDroid’s KNN approach focuses on local instance-based learning, making it naturally resistant to adversarial attacks.
•	High Accuracy: Achieves up to 99.3% detection accuracy by optimizing the KNN parameters through NIOAs.
•	Robust Evaluation: Tested against various adversarial evasion attacks including mimicry (feature injection), feature removal, and a combination of both.
•	User-Friendly Interface: A web-based platform that allows users to upload datasets for malware prediction, with results displayed in a clear and detailed manner.

# System Requirements
•	Python 3.8 or later
•	Flask
•	Pandas
•	Scikit-learn
•	Pickle (for loading pre-trained models)

# Installation
1.	Clone the repository:
bash
Copy code
git clone https://github.com/YourUsername/SaveDroid.git
cd SaveDroid
2.	Install dependencies:
bash
Copy code
pip install -r requirements.txt
3.	Run the application:
bash
Copy code
python app.py

# Usage
1.	Launch the Application: Open your web browser and go to http://127.0.0.1:5000/.
2.	Upload Dataset: Use the interface to upload a CSV or Excel file containing the features of the apps and the true labels (see the test-data.zip folder for sample data inputs).
3.	Prediction: Click on the Predict button to start the malware detection process. The results, including classification (Malicious or Benign), accuracy, precision, recall, F-measure, and confusion matrix, will be displayed.
4.	View Detailed Results: Use the View Results button to navigate to a detailed results page, showing the classification outcomes.

# Data Format
1.  Features File (sample input data are provided in the _test-data.zip_ folder) as shown in the "X_test" folder: This file should contain the following columns representing various features and must be in "x? by 1434" dimensions extracted from Android applications:
I.  openInputStream, getCellLocation, getAddress, start, sendBroadcast, setContentView, etc.
ii.  A total of 1434 features are expected, as defined by the training data requirements of the model.
3.  Labels File (sample input data are provided in the _test-data.zip_ folder) as shown in the "Y_test" folder: This file should have a single column containing the true labels (0 for Benign, 1 for Malicious) corresponding to each application in the features file.

# Project Structure
•	app.py: Main Flask application file.
•	models/savedroid.pkl: Pre-trained KNN model file.
•	templates/: Contains HTML templates for the web interface.
•	static/: Static files such as CSS, JavaScript, and images.

# Methodology
SaveDroid uses a KNN algorithm optimized by NIOAs, including Particle Swarm Optimization (PSO), BAT, and Firefly algorithms, to determine the best parameters for malware detection. The approach is evaluated using a dataset of 36,000 Android applications (18,000 benign and 18,000 malicious), testing the model's resilience against sophisticated evasion attacks.

# Future Work
•	Expansion of Dataset: Incorporate a wider variety of malware and benign apps to improve generalizability.
•	Hybrid Models: Explore combining KNN with other ML techniques to leverage the strengths of different algorithms.
•	Real-time Detection: Implement real-time analysis and detection capabilities.
•	Continuous Learning: Develop mechanisms for the model to adapt to new threats dynamically.

# Contributing
Contributions are welcome! Please submit a pull request or open an issue for suggestions or bug reports.

# License
This project is licensed under the MIT License - see the LICENSE file for details.

# Acknowledgments
This project was developed as part of a research study at Edge Hill University, focusing on enhancing the security of Android devices against malware threats.
